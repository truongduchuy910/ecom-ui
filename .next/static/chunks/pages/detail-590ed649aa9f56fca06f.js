_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{Xj6D:function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return B}));var r=e("h4VS"),a=e("q1tI"),l=e.n(a),u=e("7z3o"),o=e("1Yj4"),c=e("rePB"),i=e("4FuJ"),s=e("nOHt"),d=(e("dtb4"),l.a.createElement);function b(n){var t=n.brand;return d(i.a,{href:{pathname:"/products",query:{brand:t.url}}},d("a",null,t.name))}var p=l.a.createElement;function g(n){var t=n.category;return p(i.a,{href:{pathname:"/products",query:{category:t.url}}},p("a",null,t.name))}var y=e("ryPj"),h=e("/d8b"),f=e("6x3k"),m=e("CO9l"),O=e("rOcY"),j=e("ok1R"),v=e("rhny"),w=e("7JLP"),P=(e("WBZH"),e("wEEd")),x=e("1wr5"),E=e("VX74"),_=l.a.createElement;function k(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function q(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?k(Object(e),!0).forEach((function(t){Object(c.a)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function T(){var n=Object(r.a)(["\n  query {\n    cartItems @client\n  }\n"]);return T=function(){return n},n}var C=Object(E.gql)(T());function D(n){var t,e,r=n.product,l=Object(E.useQuery)(C).data,u=null===l||void 0===l?void 0:null===(t=l.cartItems)||void 0===t?void 0:t.some((function(n){return n.product.id===r.id}));console.log(u);var o=Object(a.useState)(!1),i=o[0],s=o[1],d=Object(a.useState)(!1),p=d[0],k=d[1];Object(P.b)((e={top:100,right:0,zIndex:11,width:i?940:340},Object(c.a)(e,"right",0),Object(c.a)(e,"from",{width:0}),e));return _(a.Fragment,null,_(j.a,null,_(v.a,{xs:12,lg:6,style:{display:"flex",justifyContent:"center",alignItems:"center"}},_(w.a,{product:r})),_(v.a,{lg:6,style:{display:"flex",justifyContent:"center",alignItems:"center"}},_("div",null,_("h1",{style:h.a.h1},r.name),_("h5",{style:{textDecoration:r.sale?"line-through":"",color:r.sale?"var(--secondary)":"default",fontSize:r.sale?15:"default",float:r.sale?"right":"default"}},Object(f.a)(r.price)),r.sale?_("h5",null,Object(f.a)(r.price-r.sale)):null,_("div",{style:{marginTop:O.b.spacing(4),marginBottom:O.b.spacing(4)}},r.brand?_(j.a,null,_(v.a,{xs:4},_("h5",{style:h.a.h5},"Th\u01b0\u01a1ng Hi\u1ec7u")),_(v.a,{xs:8},_(b,{brand:r.brand}))):null,r.category?_(j.a,null,_(v.a,{xs:4},_("h5",{style:h.a.h5},"Danh M\u1ee5c")),_(v.a,{xs:8},_(g,{category:r.category})," ")):null,r.attributeGroups?_(y.a,{attributeGroups:r.attributeGroups}):null),p?_(a.Fragment,null,_(x.a,{cartItems:[{product:r,quantity:1,price:r.price-r.sale}]}),_("a",{onClick:function(){k(!1)}},"Tho\xe1t mua nhanh")):_(a.Fragment,null,u?_("button",{style:q({},h.a.button),onClick:function(){Object(m.m)({product:r})}},"B\u1ecf kh\u1ecfi gi\u1ecf h\xe0ng"):_("button",{onClick:function(){Object(m.e)({product:r})},style:q({},h.a.button)},"Th\xeam v\xe0o gi\u1ecf h\xe0ng"),_("a",{onClick:function(){k(!0)}},"Ho\u1eb7c mua nhanh (Kh\xf4ng c\u1ea7n \u0111\u0103ng nh\u1eadp)"))))),_("div",{style:h.a.box},_(j.a,null,_(v.a,{xs:12},_("h5",{style:h.a.h5},"M\xf4 T\u1ea3"),_("p",{style:{color:O.b.color}},r.description)),_(v.a,null,_("h5",{style:h.a.h5},"H\u01b0\u1edbng d\u1eabn"),_("p",{style:{color:O.b.color}},r.guide)),_(v.a,{xs:12,md:i?12:6},_("center",null,r.file?_("img",{src:O.a.server+r.file.publicUrl,style:{width:"100%"},onClick:function(){s(!i)}}):null)),_(v.a,{lg:12}))))}var S=e("pRrB"),I=(e("lVsH"),e("rbTy"),l.a.createElement);function H(){var n=Object(r.a)(["\n  query($url: String) {\n    allProducts(first: 1, where: { url: $url }) {\n      id\n      url\n      image {\n        publicUrl\n      }\n      name\n      price\n      sale\n      images {\n        file {\n          publicUrl\n        }\n      }\n      brand {\n        name\n        url\n      }\n      category {\n        name\n        url\n      }\n      description\n      file {\n        publicUrl\n      }\n      guide\n      attributeGroups {\n        id\n        name\n        attributes {\n          id\n          name\n          url\n        }\n      }\n    }\n  }\n"]);return H=function(){return n},n}var U=Object(E.gql)(H());function B(){var n,t=Object(s.useRouter)().query.detail,e=Object(E.useQuery)(U,{variables:{url:t}}),r=e.data,a=e.error,l=e.loading;if(a||l)return I(S.a,null);var c=(null===r||void 0===r?void 0:null===(n=r.allProducts)||void 0===n?void 0:n.length)?r.allProducts[0]:null;return c?I(o.a,{style:{marginTop:O.b.spacing(4)}},I(D,{product:c}),I("h5",{style:h.a.h5},"S\u1ea3n Ph\u1ea9m Li\xean Quan"),I(u.a,{category:c.category.url,except:t,more:!1})):null}},vUjY:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/detail",function(){return e("Xj6D")}])}},[["vUjY",1,2,5,6,0,3,4,7,8,9,10,11]]]);