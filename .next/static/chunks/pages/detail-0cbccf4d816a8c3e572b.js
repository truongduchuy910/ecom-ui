_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{Xj6D:function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return N}));var r=e("h4VS"),a=e("q1tI"),l=e.n(a),u=e("7z3o"),o=e("1Yj4"),c=e("rePB"),i=e("4FuJ"),s=e("nOHt"),d=(e("dtb4"),l.a.createElement);function b(n){var t=n.brand;return d(i.a,{href:{pathname:"/products",query:{brand:t.url}}},d("a",null,t.name))}var p=l.a.createElement;function g(n){var t=n.category;return p(i.a,{href:{pathname:"/products",query:{category:t.url}}},p("a",null,t.name))}var y=e("ryPj"),f=e("/d8b"),h=e("6x3k"),m=e("CO9l"),O=e("rOcY"),j=e("ok1R"),v=e("rhny"),w=e("7JLP"),P=(e("WBZH"),e("wEEd")),x=e("1wr5"),k=e("VX74"),E=l.a.createElement;function _(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function q(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?_(Object(e),!0).forEach((function(t){Object(c.a)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function B(){var n=Object(r.a)(["\n  query {\n    cartItems @client\n  }\n"]);return B=function(){return n},n}var C=Object(k.gql)(B());function D(n){var t,e,r=n.product,l=Object(k.useQuery)(C).data,u=null===l||void 0===l?void 0:null===(t=l.cartItems)||void 0===t?void 0:t.some((function(n){return n.product.id===r.id}));console.log(u);var o=Object(a.useState)(!1),i=o[0],s=o[1],d=Object(a.useState)(!1),p=d[0],_=d[1];Object(P.b)((e={top:100,right:0,zIndex:11,width:i?940:340},Object(c.a)(e,"right",0),Object(c.a)(e,"from",{width:0}),e));return E(a.Fragment,null,E(j.a,null,E(v.a,{xs:12,lg:6,style:{display:"flex",justifyContent:"center",alignItems:"center"}},E(w.a,{product:r,style:{borderRadius:O.b.spacing(1),marginBottom:O.b.spacing(3)}})),E(v.a,{lg:6,style:{display:"flex",justifyContent:"center",alignItems:"center"}},E("div",null,E("h1",{style:f.a.h1},r.name),E("h5",{style:{textDecoration:r.sale?"line-through":"",color:r.sale?"var(--secondary)":"default",fontSize:r.sale?15:"default",float:r.sale?"right":"default"}},Object(h.a)(r.price)),r.sale?E("h5",null,Object(h.a)(r.price-r.sale)):null,E("div",{style:{marginTop:O.b.spacing(4),marginBottom:O.b.spacing(4)}},r.brand?E(j.a,null,E(v.a,{xs:4},E("h5",{style:f.a.h5},"Th\u01b0\u01a1ng Hi\u1ec7u")),E(v.a,{xs:8},E(b,{brand:r.brand}))):null,r.category?E(j.a,null,E(v.a,{xs:4},E("h5",{style:f.a.h5},"Danh M\u1ee5c")),E(v.a,{xs:8},E(g,{category:r.category})," ")):null,r.attributeGroups?E(y.a,{attributeGroups:r.attributeGroups}):null),p?E(a.Fragment,null,E(x.a,{cartItems:[{product:r,quantity:1,price:r.price-r.sale}]}),E("a",{onClick:function(){_(!1)},style:{marginBottom:O.b.spacing(3),display:"block"}},"Tho\xe1t mua nhanh")):E(a.Fragment,null,u?E("button",{style:q({},f.a.button),onClick:function(){Object(m.m)({product:r})}},"B\u1ecf kh\u1ecfi gi\u1ecf h\xe0ng"):E("button",{onClick:function(){Object(m.e)({product:r})},style:q({},f.a.button)},"Th\xeam v\xe0o gi\u1ecf h\xe0ng"),E("a",{onClick:function(){_(!0)},style:{marginBottom:O.b.spacing(3),display:"block"}},"Mua nhanh"))))),E("div",{style:f.a.box},E(j.a,null,E(v.a,{xs:12},E("h5",{style:f.a.h5},"M\xf4 T\u1ea3"),E("p",{style:{color:O.b.color}},r.description)),E(v.a,null,E("h5",{style:f.a.h5},"H\u01b0\u1edbng d\u1eabn"),E("p",{style:{color:O.b.color}},r.guide)),E(v.a,{xs:12,md:i?12:6},E("center",null,r.file?E("img",{src:O.a.server+r.file.publicUrl,style:{width:"100%"},onClick:function(){s(!i)}}):null)),E(v.a,{lg:12}))))}var S=e("pRrB"),T=l.a.createElement;function I(){var n=Object(r.a)(["\n  query($url: String) {\n    allProducts(first: 1, where: { url: $url }) {\n      id\n      url\n      image {\n        publicUrl\n      }\n      name\n      price\n      sale\n      images {\n        file {\n          publicUrl\n        }\n      }\n      brand {\n        name\n        url\n      }\n      category {\n        name\n        url\n      }\n      description\n      file {\n        publicUrl\n      }\n      guide\n      attributeGroups {\n        id\n        name\n        attributes {\n          id\n          name\n          url\n        }\n      }\n    }\n  }\n"]);return I=function(){return n},n}var U=Object(k.gql)(I());function N(){var n,t=Object(s.useRouter)().query.detail,e=Object(k.useQuery)(U,{variables:{url:t}}),r=e.data,a=e.error,l=e.loading;if(a||l)return T(S.a,null);var c=(null===r||void 0===r?void 0:null===(n=r.allProducts)||void 0===n?void 0:n.length)?r.allProducts[0]:null;return c?T(o.a,{style:{marginTop:O.b.spacing(4)}},T(D,{product:c}),T("h5",{style:f.a.h5},"S\u1ea3n Ph\u1ea9m Li\xean Quan"),T(u.a,{category:c.category.url,except:t,more:!1})):null}},vUjY:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/detail",function(){return e("Xj6D")}])}},[["vUjY",1,2,6,7,0,3,4,5,8,9,10,11,12]]]);