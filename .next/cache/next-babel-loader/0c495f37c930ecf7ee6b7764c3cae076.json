{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n// Cac component khac su dung query va them vao thuoc tinh cua no de dieu huong\n// Vo tinh lam cho [slug] khi su dung dynamic router xuat hien o trang dieu huong\n// Nen viet cac itemOne khac de tranh di\n//\nimport { Item as BrandItem } from \"../../components/Brand/itemOne\";\nimport { Item as CategoryItem } from \"../../components/Category/itemOne\";\nimport { List as AttributeGroups } from \"../../components/AttributeGroups/listOne\";\nimport { css } from \"../src/css\";\nimport { formatMoney } from \"../../lib/chip\";\nimport { addProductToLocalCart, removeCartItem } from \"../../apollo/action\";\nimport { Fragment, useState } from \"react\";\nimport { page } from \"../../config/index\";\nimport { Row, Col } from \"reactstrap\";\nimport { ImgProduct } from \"./imageProduct\";\nimport { Box } from \"../src/Box\";\nimport { useSpring, animated } from \"react-spring\";\nimport theme from \"../src/theme\";\nimport { QuickCart } from \"../Cart/quickCart\";\nimport { gql, useQuery } from \"@apollo/client\";\nconst GET_CART = gql`\n  query {\n    cartItems @client\n  }\n`;\nexport function Product({\n  product\n}) {\n  var _data$cartItems;\n\n  const {\n    data\n  } = useQuery(GET_CART);\n  const isIncart = data === null || data === void 0 ? void 0 : (_data$cartItems = data.cartItems) === null || _data$cartItems === void 0 ? void 0 : _data$cartItems.some(item => item.product.id === product.id);\n  console.log(isIncart);\n  const {\n    0: open,\n    1: toggle\n  } = useState(false);\n  const {\n    0: quickCart,\n    1: setQuickCart\n  } = useState(false);\n  const props = useSpring({\n    top: 100,\n    right: 0,\n    zIndex: 11,\n    width: open ? 940 : 340,\n    right: 0,\n    from: {\n      width: 0\n    }\n  });\n  return __jsx(Fragment, null, __jsx(Row, {\n    style: {\n      marginTop: 35\n    }\n  }, __jsx(Col, {\n    xs: 12,\n    lg: 6,\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    }\n  }, __jsx(ImgProduct, {\n    product: product\n  })), __jsx(Col, {\n    lg: 6,\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    }\n  }, __jsx(\"div\", null, __jsx(\"h1\", {\n    style: css.h1\n  }, product.name), __jsx(\"h5\", {\n    style: {\n      textDecoration: product.sale ? \"line-through\" : \"\",\n      color: product.sale ? \"var(--secondary)\" : \"default\",\n      fontSize: product.sale ? 15 : \"default\",\n      float: product.sale ? \"right\" : \"default\"\n    }\n  }, formatMoney(product.price)), product.sale ? __jsx(\"h5\", null, formatMoney(product.price - product.sale)) : null, __jsx(\"div\", {\n    style: {\n      marginTop: theme.spacing(4),\n      marginBottom: theme.spacing(4)\n    }\n  }, product.brand ? __jsx(Row, null, __jsx(Col, {\n    xs: 4\n  }, __jsx(\"h5\", {\n    style: css.h5\n  }, \"Th\\u01B0\\u01A1ng Hi\\u1EC7u\")), __jsx(Col, {\n    xs: 8\n  }, __jsx(BrandItem, {\n    brand: product.brand\n  }))) : null, product.category ? __jsx(Row, null, __jsx(Col, {\n    xs: 4\n  }, __jsx(\"h5\", {\n    style: css.h5\n  }, \"Danh M\\u1EE5c\")), __jsx(Col, {\n    xs: 8\n  }, __jsx(CategoryItem, {\n    category: product.category\n  }), \" \")) : null, product.attributeGroups ? __jsx(AttributeGroups, {\n    attributeGroups: product.attributeGroups\n  }) : null), quickCart ? __jsx(Fragment, null, __jsx(QuickCart, {\n    cartItems: [{\n      product,\n      quantity: 1,\n      price: product.price - product.sale\n    }]\n  }), __jsx(\"a\", {\n    onClick: () => {\n      setQuickCart(false);\n    }\n  }, \"Tho\\xE1t mua nhanh\")) : __jsx(Fragment, null, isIncart ? __jsx(\"button\", {\n    style: _objectSpread({}, css.button),\n    onClick: () => {\n      removeCartItem({\n        product\n      });\n    }\n  }, \"B\\u1ECF kh\\u1ECFi gi\\u1ECF h\\xE0ng\") : __jsx(\"button\", {\n    onClick: () => {\n      addProductToLocalCart({\n        product\n      });\n    },\n    style: _objectSpread({}, css.button)\n  }, \"Th\\xEAm v\\xE0o gi\\u1ECF h\\xE0ng\"), __jsx(\"a\", {\n    onClick: () => {\n      setQuickCart(true);\n    }\n  }, \"Ho\\u1EB7c mua nhanh (Kh\\xF4ng c\\u1EA7n \\u0111\\u0103ng nh\\u1EADp)\"))))), __jsx(Box, null, __jsx(Row, null, __jsx(Col, {\n    xs: 12\n  }, __jsx(\"h5\", {\n    style: css.h5\n  }, \"M\\xF4 T\\u1EA3\"), __jsx(\"p\", {\n    style: {\n      color: theme.color\n    }\n  }, product.description)), __jsx(Col, null, __jsx(\"h5\", {\n    style: css.h5\n  }, \"H\\u01B0\\u1EDBng d\\u1EABn\"), __jsx(\"p\", {\n    style: {\n      color: theme.color\n    }\n  }, product.guide)), __jsx(Col, {\n    xs: 12,\n    md: open ? 12 : 6\n  }, __jsx(\"center\", null, product.file ? __jsx(\"img\", {\n    src: page.server + product.file.publicUrl,\n    style: {\n      width: \"100%\"\n    },\n    onClick: () => {\n      toggle(!open);\n    }\n  }) : null)), __jsx(Col, {\n    lg: 12\n  }))));\n}","map":null,"metadata":{},"sourceType":"module"}