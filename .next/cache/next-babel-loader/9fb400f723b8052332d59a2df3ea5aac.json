{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/home/huy/apps/ecom-ui/components/Order/item.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation($id: ID!, $step: Int) {\\n    Order(where: { id: $id }, data: { step: $step }) {\\n      id\\n      step\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { OrderItems } from \"./orderItems\";\nimport { Row, Col } from \"reactstrap\";\nimport { formatMoney } from \"../../lib/chip\";\nimport { theme, page } from \"../../config/index\";\nimport { css } from \"../src/css\";\nimport { gql, useMutation } from \"@apollo/client\";\nvar UPDATE_step = gql(_templateObject());\nexport function Item(_ref) {\n  _s();\n\n  var _order$customer,\n      _order$customer2,\n      _order$customer3,\n      _this = this;\n\n  var order = _ref.order,\n      user = _ref.user;\n\n  var _useMutation = useMutation(UPDATE_step),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      updateStep = _useMutation2[0];\n\n  var stepName = [\"Đặt thành công\", \"Đã đóng gói\", \"Đã vận chuyển\", \"Đã thanh toán\", \"Hoàn thành\"];\n  var isSeller = user.isSeller == true && user.id == page.seller.id;\n\n  var onConfirm = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var id, step, _yield$updateStep, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = order.id;\n              step = Number(order.step) + 1;\n              _context.next = 4;\n              return updateStep({\n                variables: {\n                  id: id,\n                  step: step\n                }\n              });\n\n            case 4:\n              _yield$updateStep = _context.sent;\n              data = _yield$updateStep.data;\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onConfirm() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    style: {\n      borderRadius: 8,\n      padding: 15,\n      margin: 15,\n      backgroundColor: theme.backgroundColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    sm: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginBottom: theme.spacing(3)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, __jsx(\"h5\", {\n    style: css.h5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"\\u0110\\u1ECBa Ch\\u1EC9:\"), __jsx(\"a\", {\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, order === null || order === void 0 ? void 0 : (_order$customer = order.customer) === null || _order$customer === void 0 ? void 0 : _order$customer.name), __jsx(\"a\", {\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, order === null || order === void 0 ? void 0 : (_order$customer2 = order.customer) === null || _order$customer2 === void 0 ? void 0 : _order$customer2.phone), __jsx(\"a\", {\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, order === null || order === void 0 ? void 0 : (_order$customer3 = order.customer) === null || _order$customer3 === void 0 ? void 0 : _order$customer3.address)), __jsx(\"div\", {\n    style: {\n      marginBottom: theme.spacing(3)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, __jsx(\"h5\", {\n    style: css.h5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Tr\\u1EA1ng Th\\xE1i: \"), stepName.map(function (step, index) {\n    return index <= order.step ? __jsx(\"i\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, index != 0 ? \" > \" : null, \" \", step) : null;\n  })), __jsx(\"a\", {\n    style: {\n      marginBottom: theme.spacing(3),\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"T\\u1ED5ng: \", formatMoney(order.total)), isSeller ? __jsx(\"button\", {\n    style: _objectSpread({}, css.button),\n    onClick: function onClick() {\n      onConfirm();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"X\\xE1c Nh\\u1EADn \", stepName[Number(order.step) + 1]) : null), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginBottom: theme.spacing(3)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, __jsx(OrderItems, {\n    items: order.items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }))), __jsx(Col, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(Item, \"lrpBQMrjkSAxFlMFgzfT2a5FZvU=\", false, function () {\n  return [useMutation];\n});\n\n_c = Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"sources":["/home/huy/apps/ecom-ui/components/Order/item.js"],"names":["OrderItems","Row","Col","formatMoney","theme","page","css","gql","useMutation","UPDATE_step","Item","order","user","updateStep","stepName","isSeller","id","seller","onConfirm","step","Number","variables","data","borderRadius","padding","margin","backgroundColor","marginBottom","spacing","h5","display","customer","name","phone","address","map","index","total","button","items"],"mappings":"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","sourcesContent":["import { OrderItems } from \"./orderItems\";\nimport { Row, Col } from \"reactstrap\";\nimport { formatMoney } from \"../../lib/chip\";\nimport { theme, page } from \"../../config/index\";\nimport { css } from \"../src/css\";\nimport { gql, useMutation } from \"@apollo/client\";\nconst UPDATE_step = gql`\n  mutation($id: ID!, $step: Int) {\n    Order(where: { id: $id }, data: { step: $step }) {\n      id\n      step\n    }\n  }\n`;\nexport function Item({ order, user }) {\n  const [updateStep] = useMutation(UPDATE_step);\n  const stepName = [\n    \"Đặt thành công\",\n    \"Đã đóng gói\",\n    \"Đã vận chuyển\",\n    \"Đã thanh toán\",\n    \"Hoàn thành\",\n  ];\n\n  const isSeller = user.isSeller == true && user.id == page.seller.id;\n  const onConfirm = async () => {\n    const id = order.id;\n    const step = Number(order.step) + 1;\n    const { data } = await updateStep({\n      variables: {\n        id,\n        step,\n      },\n    });\n  };\n  return (\n    <div\n      style={{\n        borderRadius: 8,\n        padding: 15,\n        margin: 15,\n        backgroundColor: theme.backgroundColor,\n      }}\n    >\n      <Row>\n        <Col sm={12} md={6}>\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <h5 style={css.h5}>Địa Chỉ:</h5>\n            <a style={{ display: \"block\" }}>{order?.customer?.name}</a>\n            <a style={{ display: \"block\" }}>{order?.customer?.phone}</a>\n            <a style={{ display: \"block\" }}>{order?.customer?.address}</a>\n          </div>\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <h5 style={css.h5}>Trạng Thái: </h5>\n            {stepName.map((step, index) =>\n              index <= order.step ? (\n                <i key={index}>\n                  {index != 0 ? \" > \" : null} {step}\n                </i>\n              ) : null\n            )}\n          </div>\n          <a style={{ marginBottom: theme.spacing(3), display: \"block\" }}>\n            Tổng: {formatMoney(order.total)}\n          </a>\n\n          {isSeller ? (\n            <button\n              style={{ ...css.button }}\n              onClick={() => {\n                onConfirm();\n              }}\n            >\n              Xác Nhận {stepName[Number(order.step) + 1]}\n            </button>\n          ) : null}\n        </Col>\n\n        <Col>\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <OrderItems items={order.items} />\n          </div>\n        </Col>\n        <Col xs={12}></Col>\n      </Row>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}