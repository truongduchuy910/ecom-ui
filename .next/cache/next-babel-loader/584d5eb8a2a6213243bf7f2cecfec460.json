{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Github\\\\ecom-ui\\\\components\\\\src\\\\SellerProvider.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        query($host: String) {\\n          allUsers(where: { host: $host }) {\\n            id\\n            email\\n            file {\\n              publicUrl\\n            }\\n            logo {\\n              publicUrl\\n            }\\n            store\\n            slogan\\n            intro\\n            contact\\n            color\\n            primary\\n            backgroundColor\\n            productBackgroundColor\\n            pageId\\n            googleId\\n            phone\\n            email\\n            address\\n            prices\\n          }\\n        }\\n      \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { gql } from \"@apollo/client\";\nimport { createContext, Fragment } from \"react\";\nimport { Query } from \"./Query\";\nexport var SellerContext = createContext();\nimport Head from \"next/head\";\nimport { useContext } from \"react\";\nimport ReactGA from \"react-ga\";\nimport { useEffect, useState } from \"react\";\nvar level = [0, 5, 8, 13, 21, 34, 55, 89];\nvar prices = [100000, 200000, 500000, 1000000, 2000000];\n\nvar spacing = function spacing(i) {\n  return level[i];\n};\n\nvar uri = false ? \"https://ecommerce.loaloa.tech\" : \"http://localhost:6007\";\nexport var SellerProvider = function SellerProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = useState(false),\n      isLoad = _useState[0],\n      setIsLoad = _useState[1];\n\n  var _useState2 = useState(),\n      GA = _useState2[0],\n      setGA = _useState2[1];\n\n  useEffect(function () {\n    if (GA && !isLoad) {\n      console.log(\"init\", GA);\n      ReactGA.initialize(GA);\n      setIsLoad(true);\n    }\n\n    var url = window.location.pathname + window.location.search;\n    console.log(url);\n    ReactGA.pageview(url);\n  });\n  return __jsx(Query, {\n    query: gql(_templateObject()),\n    variables: {\n      host: true ? window.location.host : null\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, function (_ref2) {\n    var _theme$file, _theme$logo, _theme$prices;\n\n    var data = _ref2.data,\n        error = _ref2.error,\n        loading = _ref2.loading;\n    var theme = data === null || data === void 0 ? void 0 : data.allUsers[0];\n\n    if (theme) {\n      setGA(theme.googleId);\n    }\n\n    return theme ? __jsx(Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, __jsx(Head, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, __jsx(\"title\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, theme.store, \" | \", theme.slogan), __jsx(\"meta\", {\n      name: \"description\",\n      content: theme.intro,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }), __jsx(\"meta\", {\n      property: \"og:image\",\n      content: uri + (theme === null || theme === void 0 ? void 0 : (_theme$file = theme.file) === null || _theme$file === void 0 ? void 0 : _theme$file.publicUrl),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }), __jsx(\"link\", {\n      rel: \"icon\",\n      type: \"image/png\",\n      href: uri + (theme === null || theme === void 0 ? void 0 : (_theme$logo = theme.logo) === null || _theme$logo === void 0 ? void 0 : _theme$logo.publicUrl),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    })), __jsx(SellerContext.Provider, {\n      value: _objectSpread(_objectSpread({}, theme), {}, {\n        server: false ? \"https://ecommerce.loaloa.tech\" : \"http://localhost:6007\",\n        seller: {\n          id: theme.id\n        },\n        spacing: spacing,\n        prices: theme.prices ? (_theme$prices = theme.prices) === null || _theme$prices === void 0 ? void 0 : _theme$prices.replace(/ /g, \"\").split(\",\").map(function (e) {\n          return Number(e);\n        }) : [],\n        css: css(theme)\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      style: {\n        backgroundColor: theme.backgroundColor,\n        color: theme.color\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, children))) : null;\n  });\n};\n\n_s(SellerProvider, \"lEvmUCGxvL5P2NaAch/xjOC1w/E=\");\n\n_c = SellerProvider;\n\nvar css = function css(theme) {\n  return {\n    btnIcon: function btnIcon() {\n      var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -5;\n      var color = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : theme.backgroundColor;\n      return {\n        position: \"absolute\",\n        top: top,\n        right: -5,\n        padding: 3,\n        paddingTop: 5,\n        width: 30,\n        height: 30,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        borderRadius: \"50%\",\n        color: color,\n        fontWeight: 800,\n        backgroundColor: theme.primary\n      };\n    },\n    input: {\n      display: \"block-inline\",\n      border: \"1px solid \".concat(theme === null || theme === void 0 ? void 0 : theme.productBackgroundColor),\n      padding: spacing(1),\n      paddingLeft: spacing(3),\n      borderRadius: spacing(2),\n      backgroundColor: theme === null || theme === void 0 ? void 0 : theme.backgroundColor,\n      color: theme.color\n    },\n    btnInline: {\n      display: \"inline-block\",\n      backgroundColor: theme.primary,\n      color: theme.backgroundColor,\n      border: \"none\",\n      borderRadius: 35,\n      minWidth: 35\n    },\n    button: {\n      color: theme.backgroundColor,\n      width: \"100%\",\n      backgroundColor: theme.primary,\n      border: \"1px solid \".concat(theme.primary),\n      borderRadius: spacing(2),\n      paddingTop: spacing(1),\n      paddingBottom: spacing(1),\n      marginBottom: spacing(2)\n    },\n    btnOutline: {\n      color: theme.primary,\n      backgroundColor: theme.backgroundColor,\n      border: \"1px solid \".concat(theme.primary),\n      borderRadius: spacing(2),\n      paddingTop: spacing(1),\n      paddingBottom: spacing(1) + 1,\n      marginBottom: spacing(2)\n    },\n    h5: {\n      color: theme.primary,\n      fontSize: \"0.87rem\",\n      fontWeight: \"bold\",\n      marginBottom: spacing(3)\n    },\n    h6: {\n      color: theme.primary,\n      fontSize: \"0.8rem\",\n      textTransform: \"uppercase\",\n      margin: 0,\n      padding: 0\n    },\n    h1: {\n      color: theme.primary\n    },\n    h2: {\n      fontSize: \"1.5rem\",\n      fontWeight: \"bold\",\n      textTransform: \"uppercase\",\n      color: theme.primary,\n      marginBottom: spacing(2)\n    },\n    a: {\n      display: \"block\"\n    },\n    box: {\n      backgroundColor: theme.productBackgroundColor,\n      marginBottom: spacing(4),\n      padding: spacing(3),\n      borderRadius: spacing(1),\n      border: \"1px solid rgba(0,0,0,0.05)\",\n      boxShadow: \"5px 5px 5px rgba(0, 0, 0, 0.03)\"\n    },\n    filter: {\n      color: theme.color,\n      backgroundColor: theme.productBackgroundColor,\n      borderRadius: spacing(1),\n      border: \"1px solid rgba(0,0,0,0.05)\",\n      padding: spacing(2),\n      paddingLeft: spacing(3),\n      paddingRight: spacing(3),\n      display: \"inline-block\",\n      boxShadow: \"5px 5px 5px rgba(0, 0, 0, 0.03)\",\n      marginBottom: spacing(3),\n      marginLeft: spacing(3),\n      fontSize: \"0.9rem\",\n      position: \"relative\"\n    },\n    icon: {\n      color: theme.color\n    },\n    iconHeader: {\n      fontSize: \"1rem\",\n      marginRight: spacing(2),\n      marginBottom: spacing(1)\n    },\n    iconBorder: {\n      borderRadius: 35,\n      color: theme.primary,\n      width: 35,\n      height: 35,\n      padding: 8,\n      fontSize: \"1rem\"\n    },\n    removeIcon: {\n      marginTop: 0,\n      marginBottom: 0,\n      marginRight: 0,\n      marginLeft: spacing(2),\n      padding: 3,\n      color: theme.primary,\n      position: \"relative\",\n      top: 0,\n      width: 25,\n      height: 25\n    }\n  };\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"SellerProvider\");","map":{"version":3,"sources":["D:/Github/ecom-ui/components/src/SellerProvider.js"],"names":["gql","createContext","Fragment","Query","SellerContext","Head","useContext","ReactGA","useEffect","useState","level","prices","spacing","i","uri","SellerProvider","children","isLoad","setIsLoad","GA","setGA","console","log","initialize","url","window","location","pathname","search","pageview","host","data","error","loading","theme","allUsers","googleId","store","slogan","intro","file","publicUrl","logo","server","seller","id","replace","split","map","e","Number","css","backgroundColor","color","btnIcon","top","position","right","padding","paddingTop","width","height","display","justifyContent","alignItems","borderRadius","fontWeight","primary","input","border","productBackgroundColor","paddingLeft","btnInline","minWidth","button","paddingBottom","marginBottom","btnOutline","h5","fontSize","h6","textTransform","margin","h1","h2","a","box","boxShadow","filter","paddingRight","marginLeft","icon","iconHeader","marginRight","iconBorder","removeIcon","marginTop"],"mappings":"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","sourcesContent":["import { gql } from \"@apollo/client\";\r\nimport { createContext, Fragment } from \"react\";\r\nimport { Query } from \"./Query\";\r\nexport const SellerContext = createContext();\r\nimport Head from \"next/head\";\r\n\r\nimport { useContext } from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport { useEffect, useState } from \"react\";\r\nconst level = [0, 5, 8, 13, 21, 34, 55, 89];\r\nconst prices = [100000, 200000, 500000, 1000000, 2000000];\r\nconst spacing = (i) => level[i];\r\nconst uri =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? \"https://ecommerce.loaloa.tech\"\r\n    : \"http://localhost:6007\";\r\nexport const SellerProvider = ({ children }) => {\r\n  const [isLoad, setIsLoad] = useState(false);\r\n  const [GA, setGA] = useState();\r\n  useEffect(() => {\r\n    if (GA && !isLoad) {\r\n      console.log(\"init\", GA);\r\n      ReactGA.initialize(GA);\r\n      setIsLoad(true);\r\n    }\r\n    const url = window.location.pathname + window.location.search;\r\n    console.log(url);\r\n    ReactGA.pageview(url);\r\n  });\r\n  return (\r\n    <Query\r\n      query={gql`\r\n        query($host: String) {\r\n          allUsers(where: { host: $host }) {\r\n            id\r\n            email\r\n            file {\r\n              publicUrl\r\n            }\r\n            logo {\r\n              publicUrl\r\n            }\r\n            store\r\n            slogan\r\n            intro\r\n            contact\r\n            color\r\n            primary\r\n            backgroundColor\r\n            productBackgroundColor\r\n            pageId\r\n            googleId\r\n            phone\r\n            email\r\n            address\r\n            prices\r\n          }\r\n        }\r\n      `}\r\n      variables={{\r\n        host: typeof window !== \"undefined\" ? window.location.host : null,\r\n      }}\r\n    >\r\n      {({ data, error, loading }) => {\r\n        const theme = data?.allUsers[0];\r\n        if (theme) {\r\n          setGA(theme.googleId);\r\n        }\r\n        return theme ? (\r\n          <Fragment>\r\n            <Head>\r\n              <title>\r\n                {theme.store} | {theme.slogan}\r\n              </title>\r\n              <meta name=\"description\" content={theme.intro} />\r\n              <meta\r\n                property=\"og:image\"\r\n                content={uri + theme?.file?.publicUrl}\r\n              />\r\n              <link\r\n                rel=\"icon\"\r\n                type=\"image/png\"\r\n                href={uri + theme?.logo?.publicUrl}\r\n              />\r\n            </Head>\r\n            <SellerContext.Provider\r\n              value={{\r\n                ...theme,\r\n                server:\r\n                  process.env.NODE_ENV === \"production\"\r\n                    ? \"https://ecommerce.loaloa.tech\"\r\n                    : \"http://localhost:6007\",\r\n                seller: { id: theme.id },\r\n                spacing,\r\n                prices: theme.prices\r\n                  ? theme.prices\r\n                      ?.replace(/ /g, \"\")\r\n                      .split(\",\")\r\n                      .map((e) => Number(e))\r\n                  : [],\r\n                css: css(theme),\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  backgroundColor: theme.backgroundColor,\r\n                  color: theme.color,\r\n                }}\r\n              >\r\n                {children}\r\n              </div>\r\n            </SellerContext.Provider>\r\n          </Fragment>\r\n        ) : null;\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\nconst css = (theme) => ({\r\n  btnIcon: (top = -5, color = theme.backgroundColor) => ({\r\n    position: \"absolute\",\r\n    top,\r\n    right: -5,\r\n    padding: 3,\r\n    paddingTop: 5,\r\n    width: 30,\r\n    height: 30,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: \"50%\",\r\n    color,\r\n    fontWeight: 800,\r\n    backgroundColor: theme.primary,\r\n  }),\r\n  input: {\r\n    display: \"block-inline\",\r\n    border: `1px solid ${theme?.productBackgroundColor}`,\r\n    padding: spacing(1),\r\n    paddingLeft: spacing(3),\r\n    borderRadius: spacing(2),\r\n    backgroundColor: theme?.backgroundColor,\r\n    color: theme.color,\r\n  },\r\n  btnInline: {\r\n    display: \"inline-block\",\r\n    backgroundColor: theme.primary,\r\n    color: theme.backgroundColor,\r\n    border: \"none\",\r\n    borderRadius: 35,\r\n    minWidth: 35,\r\n  },\r\n  button: {\r\n    color: theme.backgroundColor,\r\n    width: \"100%\",\r\n    backgroundColor: theme.primary,\r\n    border: `1px solid ${theme.primary}`,\r\n    borderRadius: spacing(2),\r\n    paddingTop: spacing(1),\r\n    paddingBottom: spacing(1),\r\n    marginBottom: spacing(2),\r\n  },\r\n  btnOutline: {\r\n    color: theme.primary,\r\n\r\n    backgroundColor: theme.backgroundColor,\r\n    border: `1px solid ${theme.primary}`,\r\n    borderRadius: spacing(2),\r\n    paddingTop: spacing(1),\r\n    paddingBottom: spacing(1) + 1,\r\n    marginBottom: spacing(2),\r\n  },\r\n  h5: {\r\n    color: theme.primary,\r\n    fontSize: \"0.87rem\",\r\n    fontWeight: \"bold\",\r\n    marginBottom: spacing(3),\r\n  },\r\n  h6: {\r\n    color: theme.primary,\r\n    fontSize: \"0.8rem\",\r\n    textTransform: \"uppercase\",\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  h1: {\r\n    color: theme.primary,\r\n  },\r\n  h2: {\r\n    fontSize: \"1.5rem\",\r\n    fontWeight: \"bold\",\r\n    textTransform: \"uppercase\",\r\n    color: theme.primary,\r\n    marginBottom: spacing(2),\r\n  },\r\n  a: {\r\n    display: \"block\",\r\n  },\r\n  box: {\r\n    backgroundColor: theme.productBackgroundColor,\r\n    marginBottom: spacing(4),\r\n    padding: spacing(3),\r\n    borderRadius: spacing(1),\r\n    border: \"1px solid rgba(0,0,0,0.05)\",\r\n    boxShadow: \"5px 5px 5px rgba(0, 0, 0, 0.03)\",\r\n  },\r\n  filter: {\r\n    color: theme.color,\r\n    backgroundColor: theme.productBackgroundColor,\r\n    borderRadius: spacing(1),\r\n    border: \"1px solid rgba(0,0,0,0.05)\",\r\n\r\n    padding: spacing(2),\r\n    paddingLeft: spacing(3),\r\n    paddingRight: spacing(3),\r\n    display: \"inline-block\",\r\n    boxShadow: \"5px 5px 5px rgba(0, 0, 0, 0.03)\",\r\n    marginBottom: spacing(3),\r\n    marginLeft: spacing(3),\r\n    fontSize: \"0.9rem\",\r\n    position: \"relative\",\r\n  },\r\n  icon: {\r\n    color: theme.color,\r\n  },\r\n  iconHeader: {\r\n    fontSize: \"1rem\",\r\n    marginRight: spacing(2),\r\n    marginBottom: spacing(1),\r\n  },\r\n  iconBorder: {\r\n    borderRadius: 35,\r\n    color: theme.primary,\r\n    width: 35,\r\n    height: 35,\r\n    padding: 8,\r\n    fontSize: \"1rem\",\r\n  },\r\n  removeIcon: {\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n    marginRight: 0,\r\n    marginLeft: spacing(2),\r\n    padding: 3,\r\n    color: theme.primary,\r\n    position: \"relative\",\r\n    top: 0,\r\n    width: 25,\r\n    height: 25,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}