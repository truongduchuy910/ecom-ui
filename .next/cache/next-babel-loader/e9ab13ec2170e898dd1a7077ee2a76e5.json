{"ast":null,"code":"import { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { gql, useMutation, useApolloClient } from \"@apollo/client\";\nimport cache, { USER, onSignOut, init as reloadApolloState } from \"../components/apollo/action\";\nimport { BirdBg } from \"../components/src/BirdBg\";\nconst SignOutMutation = gql`\n  mutation {\n    unauthenticateUser {\n      success\n    }\n  }\n`;\n\nfunction SignOut() {\n  const client = useApolloClient();\n  const router = useRouter();\n  const [signOut] = useMutation(SignOutMutation);\n  useEffect(() => {\n    localStorage.removeItem(\"token\");\n    onSignOut();\n    signOut().then(() => {\n      router.push({\n        pathname: \"/signin\"\n      }).then(() => {\n        reloadApolloState();\n      });\n    }).catch(() => {\n      router.push(\"/\");\n    });\n    client.resetStore().then(() => {}).catch(() => {});\n  }, [signOut, router, client]);\n  return null;\n}\n\nexport default SignOut;","map":null,"metadata":{},"sourceType":"module"}