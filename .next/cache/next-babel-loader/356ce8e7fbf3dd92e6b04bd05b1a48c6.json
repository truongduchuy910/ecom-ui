{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation {\\n    unauthenticateUser {\\n      success\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { gql, useMutation, useApolloClient } from \"@apollo/client\";\nimport cache, { USER, onSignOut, init as reloadApolloState } from \"../apollo/action\";\nimport { BirdBg } from \"../components/src/BirdBg\";\nvar SignOutMutation = gql(_templateObject());\n\nfunction SignOut() {\n  var client = useApolloClient();\n  var router = useRouter();\n\n  var _useMutation = useMutation(SignOutMutation),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      signOut = _useMutation2[0];\n\n  useEffect(function () {\n    client.resetStore().then(function () {\n      signOut().then(function () {\n        onSignOut();\n        localStorage.removeItem(\"token\");\n        router.push({\n          pathname: \"/signin\"\n        }).then(function () {\n          reloadApolloState();\n        });\n      });\n    });\n  }, [signOut, router, client]);\n  return __jsx(BirdBg, null);\n}\n\nexport default SignOut;","map":null,"metadata":{},"sourceType":"module"}