{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    allCustomers {\\n      id\\n      name\\n      phone\\n      address\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useState, useEffect, Fragment } from \"react\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { getErrorMessage } from \"../../lib/chip\";\nimport { Item } from \"./item\";\nimport { Loading } from \"../src/Loading\";\nimport { MdCreate } from \"react-icons/md\";\nimport { IoMdAddCircleOutline, IoIosColorWand } from \"react-icons/io\";\nimport { Create } from \"./create\";\nimport { customerVar } from \"../../apollo/client\";\nimport Link from \"next/link\"; // get\n\nvar GET_CUSTOMERS = gql(_templateObject());\nexport function List(_ref) {\n  var createClick = _ref.createClick;\n\n  var _useState = useState(false),\n      create = _useState[0],\n      setCreate = _useState[1];\n\n  var _useQuery = useQuery(GET_CUSTOMERS),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      refetch = _useQuery.refetch;\n\n  if (loading) return __jsx(\"i\", null, \"...\");\n  if (error) return __jsx(Link, {\n    href: \"/signin\"\n  }, __jsx(\"a\", null, getErrorMessage(error)));\n  return __jsx(\"div\", null, create || (data === null || data === void 0 ? void 0 : data.allCustomers.length) === 0 ? __jsx(Create, {\n    onSubmit: function onSubmit() {\n      setCreate(false);\n\n      try {\n        refetch();\n      } catch (_unused) {}\n    }\n  }) : null, (data === null || data === void 0 ? void 0 : data.allCustomers.length) ? __jsx(Fragment, null, __jsx(\"h5\", {\n    style: {\n      display: \"inline\",\n      marginRight: 13\n    }\n  }, \"Ch\\u1ECDn \\u0110\\u1ECBa Ch\\u1EC9 Nh\\u1EADn.\"), __jsx(\"label\", {\n    onClick: function onClick() {\n      setCreate(true);\n    },\n    style: {\n      cursor: \"pointer\"\n    }\n  }, \"Ho\\u1EB7c t\\u1EA1o m\\u1EDBi \", __jsx(IoMdAddCircleOutline, null))) : null, data ? data.allCustomers.map(function (customer) {\n    return __jsx(Item, {\n      key: customer.id,\n      customer: customer,\n      onDelete: function onDelete() {\n        refetch();\n      }\n    });\n  }) : __jsx(Loading, null));\n}","map":null,"metadata":{},"sourceType":"module"}