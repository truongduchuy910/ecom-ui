{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { page } from \"../../config.json\";\nimport { IoIosHeartEmpty, IoIosHeart } from \"react-icons/io\";\nimport { MdCompareArrows, MdDoneAll } from \"react-icons/md\";\nimport { removeWishListItem, removeCompareItem, addProductToLocalWishlist, addProductToLocalCompare, CART } from \"../../apollo/action\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { FadeIn } from \"../Animations/FadeIn\";\nimport { useSpring, animated, useSprings } from \"react-spring\";\nimport { QuickView } from \"./quickView\";\nconst style = {\n  button: (top, color = \"white\") => ({\n    position: \"absolute\",\n    top,\n    right: 5,\n    padding: 3,\n    paddingTop: 5,\n    width: 30,\n    height: 30,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: \"50%\",\n    color,\n    fontWeight: 800,\n    backgroundColor: \"rgba(0,0,0,0.5)\"\n  })\n};\nexport function ImgProduct({\n  product\n}) {\n  var _data$cartItems, _data$wishlist, _data$compare, _ImgSrcs$imgIndex, _ImgSrcs$imgIndex$fil, _ImgSrcs$imgIndex2, _ImgSrcs$imgIndex2$fi;\n\n  const {\n    data\n  } = useQuery(gql`\n    query {\n      cartItems @client\n      wishlist @client\n      compare @client\n    }\n  `);\n  const isIncart = data === null || data === void 0 ? void 0 : (_data$cartItems = data.cartItems) === null || _data$cartItems === void 0 ? void 0 : _data$cartItems.some(item => item.product.id === product.id);\n  const isInWishlist = data === null || data === void 0 ? void 0 : (_data$wishlist = data.wishlist) === null || _data$wishlist === void 0 ? void 0 : _data$wishlist.some(item => item.id === product.id);\n  const isInCompare = data === null || data === void 0 ? void 0 : (_data$compare = data.compare) === null || _data$compare === void 0 ? void 0 : _data$compare.some(item => item.id === product.id);\n  let ImgSrcs = (product === null || product === void 0 ? void 0 : product.images) || [];\n\n  if (product.image) {\n    ImgSrcs = [{\n      file: product.image\n    }].concat(ImgSrcs);\n  }\n\n  const {\n    0: imgIndex,\n    1: setImgIndex\n  } = useState(0); // animation\n\n  useEffect(() => {\n    window.onscroll = () => {\n      toggle(false);\n    };\n  });\n  const {\n    0: open,\n    1: toggle\n  } = useState(false);\n  const props = useSpring({\n    position: \"fixed\",\n    opacity: open ? 1 : 0,\n    top: 0,\n    left: 0,\n    zIndex: 11,\n    backgroundColor: \"white\",\n    padding: 13,\n    paddingTop: 85,\n    height: \"100vh\",\n    display: \"flex\",\n    from: {\n      opacity: 0\n    }\n  });\n  return __jsx(\"div\", {\n    style: {\n      position: \"inherit\"\n    }\n  }, __jsx(\"img\", {\n    src: ImgSrcs[imgIndex] ? page.server + ((_ImgSrcs$imgIndex = ImgSrcs[imgIndex]) === null || _ImgSrcs$imgIndex === void 0 ? void 0 : (_ImgSrcs$imgIndex$fil = _ImgSrcs$imgIndex.file) === null || _ImgSrcs$imgIndex$fil === void 0 ? void 0 : _ImgSrcs$imgIndex$fil.publicUrl) : \"/assets/img/no-image.jpg\",\n    key: (_ImgSrcs$imgIndex2 = ImgSrcs[imgIndex]) === null || _ImgSrcs$imgIndex2 === void 0 ? void 0 : (_ImgSrcs$imgIndex2$fi = _ImgSrcs$imgIndex2.file) === null || _ImgSrcs$imgIndex2$fi === void 0 ? void 0 : _ImgSrcs$imgIndex2$fi.publicUrl,\n    onClick: () => {\n      toggle(true);\n    }\n  }), __jsx(\"i\", {\n    onClick: () => isInCompare ? removeCompareItem(product) : addProductToLocalCompare(product),\n    style: style.button(5)\n  }, isInCompare ? __jsx(MdDoneAll, null) : __jsx(MdCompareArrows, null)), __jsx(\"i\", {\n    onClick: () => isInWishlist ? removeWishListItem(product) : addProductToLocalWishlist(product),\n    style: style.button(45, \"white\")\n  }, isInWishlist ? __jsx(MdDoneAll, null) : __jsx(IoIosHeartEmpty, null)));\n}","map":null,"metadata":{},"sourceType":"module"}