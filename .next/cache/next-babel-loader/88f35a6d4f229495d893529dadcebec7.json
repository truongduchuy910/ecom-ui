{"ast":null,"code":"var _jsxFileName = \"/media/huy/New Volume/linux/apps/ecom-ui/components/Order/item.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { OrderItems } from \"./orderItems\";\nimport { Row, Col } from \"reactstrap\";\nimport { formatMoney } from \"../../lib/chip\";\nimport { gql, useMutation } from \"@apollo/client\";\nimport { useContext } from \"react\";\nimport { SellerContext } from \"../src/SellerProvider\";\nconst UPDATE_step = gql`\n  mutation($id: ID!, $step: Int) {\n    updateOrder(id: $id, data: { step: $step }) {\n      id\n      step\n    }\n  }\n`;\nexport function Item({\n  order,\n  user,\n  onChange\n}) {\n  var _order$customer, _order$customer2, _order$customer3;\n\n  const theme = useContext(SellerContext);\n  const [updateStep] = useMutation(UPDATE_step);\n  const stepName = [\"Đặt thành công\", \"Đã đóng gói\", \"Đã vận chuyển\"];\n  const isSeller = (user === null || user === void 0 ? void 0 : user.isSeller) == true && user.id == theme.seller.id;\n\n  const onConfirm = async () => {\n    const id = order.id;\n    const step = Number(order.step) + 1;\n    const {\n      data\n    } = await updateStep({\n      variables: {\n        id,\n        step\n      }\n    });\n    onChange();\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      borderRadius: 8,\n      padding: 15,\n      margin: 15,\n      backgroundColor: theme.backgroundColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    sm: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginBottom: theme.spacing(3)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, __jsx(\"h5\", {\n    style: _objectSpread(_objectSpread({}, theme.css.h5), {}, {\n      display: \"inline-block\",\n      marginRight: theme.spacing(2)\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"\\u0110\\u1EB7t ng\\xE0y:\"), __jsx(\"a\", {\n    style: {\n      display: \"inline-block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, new Date(order === null || order === void 0 ? void 0 : order.time).toLocaleDateString())), __jsx(\"div\", {\n    style: {\n      marginBottom: theme.spacing(3)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, __jsx(\"h5\", {\n    style: theme.css.h5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"\\u0110\\u1ECBa Ch\\u1EC9:\"), __jsx(\"a\", {\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, order === null || order === void 0 ? void 0 : (_order$customer = order.customer) === null || _order$customer === void 0 ? void 0 : _order$customer.name), __jsx(\"a\", {\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, order === null || order === void 0 ? void 0 : (_order$customer2 = order.customer) === null || _order$customer2 === void 0 ? void 0 : _order$customer2.phone), __jsx(\"a\", {\n    style: {\n      display: \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, order === null || order === void 0 ? void 0 : (_order$customer3 = order.customer) === null || _order$customer3 === void 0 ? void 0 : _order$customer3.address)), __jsx(\"div\", {\n    style: {\n      marginBottom: theme.spacing(3)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(\"h5\", {\n    style: theme.css.h5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Tr\\u1EA1ng Th\\xE1i: \"), stepName.map((step, index) => index <= order.step ? __jsx(\"i\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, index != 0 ? \" > \" : null, \" \", step) : null)), __jsx(\"h5\", {\n    style: _objectSpread(_objectSpread({}, theme.css.h5), {}, {\n      display: \"inline-block\",\n      marginRight: theme.spacing(2)\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"T\\u1ED5ng:\"), __jsx(\"a\", {\n    style: {\n      marginBottom: theme.spacing(3),\n      display: \"inline-block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, formatMoney(order.total)), isSeller && order.step < 2 ? __jsx(\"button\", {\n    style: _objectSpread({}, theme.css.button),\n    onClick: () => {\n      onConfirm();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"X\\xE1c Nh\\u1EADn \", stepName[Number(order.step) + 1]) : null), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginBottom: theme.spacing(3)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, __jsx(OrderItems, {\n    items: order.items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["/media/huy/New Volume/linux/apps/ecom-ui/components/Order/item.js"],"names":["OrderItems","Row","Col","formatMoney","gql","useMutation","useContext","SellerContext","UPDATE_step","Item","order","user","onChange","theme","updateStep","stepName","isSeller","id","seller","onConfirm","step","Number","data","variables","borderRadius","padding","margin","backgroundColor","marginBottom","spacing","css","h5","display","marginRight","Date","time","toLocaleDateString","customer","name","phone","address","map","index","total","button","items"],"mappings":"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","sourcesContent":["import { OrderItems } from \"./orderItems\";\nimport { Row, Col } from \"reactstrap\";\nimport { formatMoney } from \"../../lib/chip\";\n\n\nimport { gql, useMutation } from \"@apollo/client\";\nimport { useContext } from \"react\";\nimport { SellerContext } from \"../src/SellerProvider\";\nconst UPDATE_step = gql`\n  mutation($id: ID!, $step: Int) {\n    updateOrder(id: $id, data: { step: $step }) {\n      id\n      step\n    }\n  }\n`;\nexport function Item({ order, user, onChange }) {\n  const theme = useContext(SellerContext);\n\n  const [updateStep] = useMutation(UPDATE_step);\n  const stepName = [\"Đặt thành công\", \"Đã đóng gói\", \"Đã vận chuyển\"];\n\n  const isSeller = user?.isSeller == true && user.id == theme.seller.id;\n  const onConfirm = async () => {\n    const id = order.id;\n    const step = Number(order.step) + 1;\n    const { data } = await updateStep({\n      variables: {\n        id,\n        step,\n      },\n    });\n    onChange();\n  };\n  return (\n    <div\n      style={{\n        borderRadius: 8,\n        padding: 15,\n        margin: 15,\n        backgroundColor: theme.backgroundColor,\n      }}\n    >\n      <Row>\n        <Col sm={12} md={6}>\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <h5\n              style={{\n                ...theme.css.h5,\n                display: \"inline-block\",\n                marginRight: theme.spacing(2),\n              }}\n            >\n              Đặt ngày:\n            </h5>\n            <a style={{ display: \"inline-block\" }}>\n              {new Date(order?.time).toLocaleDateString()}\n            </a>\n          </div>\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <h5 style={theme.css.h5}>Địa Chỉ:</h5>\n            <a style={{ display: \"block\" }}>{order?.customer?.name}</a>\n            <a style={{ display: \"block\" }}>{order?.customer?.phone}</a>\n            <a style={{ display: \"block\" }}>{order?.customer?.address}</a>\n          </div>\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <h5 style={theme.css.h5}>Trạng Thái: </h5>\n            {stepName.map((step, index) =>\n              index <= order.step ? (\n                <i key={index}>\n                  {index != 0 ? \" > \" : null} {step}\n                </i>\n              ) : null\n            )}\n          </div>\n          <h5\n            style={{\n              ...theme.css.h5,\n              display: \"inline-block\",\n              marginRight: theme.spacing(2),\n            }}\n          >\n            Tổng:\n          </h5>\n          <a\n            style={{\n              marginBottom: theme.spacing(3),\n              display: \"inline-block\",\n            }}\n          >\n            {formatMoney(order.total)}\n          </a>\n\n          {isSeller && order.step < 2 ? (\n            <button\n              style={{ ...theme.css.button }}\n              onClick={() => {\n                onConfirm();\n              }}\n            >\n              Xác Nhận {stepName[Number(order.step) + 1]}\n            </button>\n          ) : null}\n        </Col>\n\n        <Col>\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <OrderItems items={order.items} />\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}