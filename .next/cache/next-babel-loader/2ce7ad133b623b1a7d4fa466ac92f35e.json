{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { gql, useMutation, useApolloClient } from \"@apollo/client\";\nimport cache, { USER, onSignOut, init as reloadApolloState } from \"../apollo/action\";\nimport { BirdBg } from \"../components/src/BirdBg\";\nconst SignOutMutation = gql`\n  mutation {\n    unauthenticateUser {\n      success\n    }\n  }\n`;\n\nfunction SignOut() {\n  const client = useApolloClient();\n  const router = useRouter();\n  const [signOut] = useMutation(SignOutMutation);\n  useEffect(() => {\n    client.resetStore().then(() => {\n      signOut().then(() => {\n        onSignOut();\n        localStorage.removeItem(\"token\");\n        router.push({\n          pathname: \"/signin\"\n        }).then(() => {\n          reloadApolloState();\n        });\n      });\n    });\n  }, [signOut, router, client]);\n  return __jsx(BirdBg, null);\n}\n\nexport default SignOut;","map":null,"metadata":{},"sourceType":"module"}